!function(n,e){"function"==typeof define&&define.amd?define([],e):"undefined"!=typeof module&&module.exports?module.exports=e():n.lscache=e()}(this,function(){function n(){var n="__lscachetest__";if(void 0!==h)return h;try{if(!localStorage)return!1}catch(n){return!1}try{u(n,"__lscachetest__"),c(n),h=!0}catch(n){h=!(!e(n)||!localStorage.length)}return h}function e(n){return n&&("QUOTA_EXCEEDED_ERR"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name||"QuotaExceededError"===n.name)}function t(){return void 0===g&&(g=null!=window.JSON),g}function r(n){return n+p}function o(){return Math.floor((new Date).getTime()/y)}function i(n){return localStorage.getItem(m+E+n)}function u(n,e){localStorage.removeItem(m+E+n),localStorage.setItem(m+E+n,e)}function c(n){localStorage.removeItem(m+E+n)}function a(n){for(var e=new RegExp("^"+m+function(n){return n.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")}(E)+"(.*)"),t=localStorage.length-1;t>=0;--t){var o=localStorage.key(t);(o=(o=o&&o.match(e))&&o[1])&&o.indexOf(p)<0&&n(o,r(o))}}function f(n){var e=r(n);c(n),c(e)}function l(n){var e=r(n),t=i(e);if(t){var u=parseInt(t,w);if(o()>=u)return c(n),c(e),!0}}function s(n,e){_&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+n),e&&window.console.warn("lscache - The error was: "+e.message))}function d(n){return Math.floor(864e13/n)}var h,g,m="",p="-ce",w=10,y=6e4,v=d(y),E="",_=!1;return{set:function(l,d,h){if(!n())return!1;if(!t())return!1;try{d=JSON.stringify(d)}catch(n){return!1}try{u(l,d)}catch(n){if(!e(n))return s("Could not add item with key '"+l+"'",n),!1;var g,m=[];a(function(n,e){var t=i(e);t=t?parseInt(t,w):v,m.push({key:n,size:(i(n)||"").length,expiration:t})}),m.sort(function(n,e){return e.expiration-n.expiration});for(var p=(d||"").length;m.length&&p>0;)g=m.pop(),s("Cache is full, removing item with key '"+l+"'"),f(g.key),p-=g.size;try{u(l,d)}catch(n){return s("Could not add item with key '"+l+"', perhaps it's too big?",n),!1}}return h?u(r(l),(o()+h).toString(w)):c(r(l)),!0},get:function(e){if(!n())return null;if(l(e))return null;var r=i(e);if(!r||!t())return r;try{return JSON.parse(r)}catch(n){return r}},remove:function(e){n()&&f(e)},supported:function(){return n()},flush:function(){n()&&a(function(n){f(n)})},flushExpired:function(){n()&&a(function(n){l(n)})},setBucket:function(n){E=n},resetBucket:function(){E=""},getExpiryMilliseconds:function(){return y},setExpiryMilliseconds:function(n){v=d(y=n)},enableWarnings:function(n){_=n}}}),document.getElementById("loadText").innerHTML="Loading platform.js...";
